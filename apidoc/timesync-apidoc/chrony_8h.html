<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>riaps-timesync: src/chrony.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">riaps-timesync
   &#160;<span id="projectnumber">..</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">chrony.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>RIAPS Timesync Service - Communication with the chrony daemon.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for chrony.h:</div>
<div class="dyncontent">
<div class="center"><img src="chrony_8h__incl.png" border="0" usemap="#src_2chrony_8h" alt=""/></div>
<map name="src_2chrony_8h" id="src_2chrony_8h">
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="chrony_8h__dep__incl.png" border="0" usemap="#src_2chrony_8hdep" alt=""/></div>
<map name="src_2chrony_8hdep" id="src_2chrony_8hdep">
<area shape="rect" id="node2" href="chrony_8c.html" title="RIAPS Timesync Service &#45; Communication with the chrony daemon (implementation). " alt="" coords="5,80,100,107"/>
<area shape="rect" id="node3" href="riaps__ts_8c.html" title="RIAPS Timesync Service &#45; Application level interface (implementation). " alt="" coords="125,80,226,107"/>
</map>
</div>
</div>
<p><a href="chrony_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structchrony__float__t.html">chrony_float_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chrony's 32-bit floating point type.  <a href="structchrony__float__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimeval__t.html">timeval_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of <code><a class="el" href="structtimeval__t.html" title="Definition of timeval_t using 32-bit integers. ">timeval_t</a></code> using 32-bit integers.  <a href="structtimeval__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structipaddr__t.html">ipaddr_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structreq__null.html">req_null</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chrony end-of-request (null request)  <a href="structreq__null.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structchrony__req.html">chrony_req</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chrony CMD protocol request datagram format.  <a href="structchrony__req.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrep__null.html">rep_null</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrep__tracking.html">rep_tracking</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chrony CMD protocol tracking datagram format.  <a href="structrep__tracking.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structchrony__rep.html">chrony_rep</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chrony CMD protocol reply datagram format.  <a href="structchrony__rep.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a37f7977d73365c83d9beabe9839bda30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#a37f7977d73365c83d9beabe9839bda30">CHRONY_CMD_ADDR</a>&#160;&#160;&#160;&quot;127.0.0.1&quot;</td></tr>
<tr class="separator:a37f7977d73365c83d9beabe9839bda30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b93b31ea71048d2651b5ddf98fca76d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#a3b93b31ea71048d2651b5ddf98fca76d">CHRONY_CMD_PORT</a>&#160;&#160;&#160;323</td></tr>
<tr class="separator:a3b93b31ea71048d2651b5ddf98fca76d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d0bc0d55c8990538a84d08d24354ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#a57d0bc0d55c8990538a84d08d24354ad">MAX_PADDING_LENGTH</a>&#160;&#160;&#160;396</td></tr>
<tr class="separator:a57d0bc0d55c8990538a84d08d24354ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93506c68f47c0c7ef6cc8380297a099a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#a93506c68f47c0c7ef6cc8380297a099a">PROTO_VERSION_NUMBER</a>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a93506c68f47c0c7ef6cc8380297a099a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91706f9068bee77f2937c2ef0aad78bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#a91706f9068bee77f2937c2ef0aad78bf">CHRONY_TIMEOUT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a91706f9068bee77f2937c2ef0aad78bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19fedfbb698ccae69d60c9d94108110"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#ab19fedfbb698ccae69d60c9d94108110">CHRONY_MAX_RETRIES</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ab19fedfbb698ccae69d60c9d94108110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab02cf87b1c2c8b4da76ba73e3345d22d"><td class="memItemLeft" align="right" valign="top"><a id="ab02cf87b1c2c8b4da76ba73e3345d22d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IPADDR_UNSPEC</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ab02cf87b1c2c8b4da76ba73e3345d22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cbd417079f01f7748800d66490daadc"><td class="memItemLeft" align="right" valign="top"><a id="a2cbd417079f01f7748800d66490daadc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IPADDR_INET4</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a2cbd417079f01f7748800d66490daadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de81dfc0c102853ad725e94ef76b715"><td class="memItemLeft" align="right" valign="top"><a id="a9de81dfc0c102853ad725e94ef76b715"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IPADDR_INET6</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a9de81dfc0c102853ad725e94ef76b715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b66f06290902351b3379f6c8b2c4a42"><td class="memItemLeft" align="right" valign="top"><a id="a7b66f06290902351b3379f6c8b2c4a42"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TV_NOHIGHSEC</b>&#160;&#160;&#160;0x7fffffff</td></tr>
<tr class="separator:a7b66f06290902351b3379f6c8b2c4a42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0774d021ccdb9c8a38255d8fcadcb84"><td class="memItemLeft" align="right" valign="top"><a id="ad0774d021ccdb9c8a38255d8fcadcb84"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PKT_TYPE_CMD_REQUEST</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ad0774d021ccdb9c8a38255d8fcadcb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3755940311172690a5537d91782e599"><td class="memItemLeft" align="right" valign="top"><a id="ac3755940311172690a5537d91782e599"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PKT_TYPE_CMD_REPLY</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ac3755940311172690a5537d91782e599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad71486a36c16ca2ba6499b7b858c33f"><td class="memItemLeft" align="right" valign="top"><a id="aad71486a36c16ca2ba6499b7b858c33f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REQ_TRACKING</b>&#160;&#160;&#160;33</td></tr>
<tr class="separator:aad71486a36c16ca2ba6499b7b858c33f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d3fbec925fb1c73020196edf92654e"><td class="memItemLeft" align="right" valign="top"><a id="a81d3fbec925fb1c73020196edf92654e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>STT_SUCCESS</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a81d3fbec925fb1c73020196edf92654e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4033358de30a790c95bde073c551c6"><td class="memItemLeft" align="right" valign="top"><a id="a3c4033358de30a790c95bde073c551c6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RPY_TRACKING</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a3c4033358de30a790c95bde073c551c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08bd7551ff6f419ba0312034b7106edf"><td class="memItemLeft" align="right" valign="top"><a id="a08bd7551ff6f419ba0312034b7106edf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REQ_LENGTH</b>(reply_data_field)&#160;&#160;&#160;offsetof(<a class="el" href="structchrony__req.html">chrony_req</a>, data.reply_data_field.EOR)</td></tr>
<tr class="separator:a08bd7551ff6f419ba0312034b7106edf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5565046fc46bab062e1ee176ead0a8b8"><td class="memItemLeft" align="right" valign="top"><a id="a5565046fc46bab062e1ee176ead0a8b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>REP_LENGTH</b>(reply_data_field)&#160;&#160;&#160;offsetof(<a class="el" href="structchrony__rep.html">chrony_rep</a>, data.reply_data_field.EOR)</td></tr>
<tr class="separator:a5565046fc46bab062e1ee176ead0a8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac0e993a7314677cc2671788fc12cfdb3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#ac0e993a7314677cc2671788fc12cfdb3">chrony_request</a> (<a class="el" href="structchrony__req.html">chrony_req</a> *req, int req_len, <a class="el" href="structchrony__rep.html">chrony_rep</a> *rep, int rep_len, int rep_id)</td></tr>
<tr class="memdesc:ac0e993a7314677cc2671788fc12cfdb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a standalone request and waits for the reply from chrony.  <a href="#ac0e993a7314677cc2671788fc12cfdb3">More...</a><br /></td></tr>
<tr class="separator:ac0e993a7314677cc2671788fc12cfdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ea9815b8f11653b929fe15c9f64c8c"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#ab1ea9815b8f11653b929fe15c9f64c8c">sec_of_timeval</a> (const <a class="el" href="structtimeval__t.html">timeval_t</a> *timeval)</td></tr>
<tr class="memdesc:ab1ea9815b8f11653b929fe15c9f64c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the integer (seconds) part of the <code><a class="el" href="structtimeval__t.html" title="Definition of timeval_t using 32-bit integers. ">timeval_t</a></code> value.  <a href="#ab1ea9815b8f11653b929fe15c9f64c8c">More...</a><br /></td></tr>
<tr class="separator:ab1ea9815b8f11653b929fe15c9f64c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2ab4a32e5e0511615d593b8bb2cce0e"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#af2ab4a32e5e0511615d593b8bb2cce0e">nsec_of_timeval</a> (const <a class="el" href="structtimeval__t.html">timeval_t</a> *timeval)</td></tr>
<tr class="memdesc:af2ab4a32e5e0511615d593b8bb2cce0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the fractional (nanosec) part of the <code><a class="el" href="structtimeval__t.html" title="Definition of timeval_t using 32-bit integers. ">timeval_t</a></code> value.  <a href="#af2ab4a32e5e0511615d593b8bb2cce0e">More...</a><br /></td></tr>
<tr class="separator:af2ab4a32e5e0511615d593b8bb2cce0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e5cd69e31ff7f5620ba7be7cab7cdd"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="chrony_8h.html#a01e5cd69e31ff7f5620ba7be7cab7cdd">double_from_chrony_float_t</a> (const <a class="el" href="structchrony__float__t.html">chrony_float_t</a> *f)</td></tr>
<tr class="memdesc:a01e5cd69e31ff7f5620ba7be7cab7cdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert from chrony 32-bit floating point type to double.  <a href="#a01e5cd69e31ff7f5620ba7be7cab7cdd">More...</a><br /></td></tr>
<tr class="separator:a01e5cd69e31ff7f5620ba7be7cab7cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>RIAPS Timesync Service - Communication with the chrony daemon. </p>
<dl class="section author"><dt>Author</dt><dd>Peter Volgyesi </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Contains code from the crony open-source project (GPL v2)</dd></dl>
<p>This module contains a lightweight interface to communicate with the running chrony daemon via its UDP command socket. The functions in this module are not supposed to be used by application level code, but provided for higher-level interfaces in the riaps-timesync service. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a37f7977d73365c83d9beabe9839bda30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f7977d73365c83d9beabe9839bda30">&#9670;&nbsp;</a></span>CHRONY_CMD_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHRONY_CMD_ADDR&#160;&#160;&#160;&quot;127.0.0.1&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Only local chrony daemons are supported </p>

</div>
</div>
<a id="a3b93b31ea71048d2651b5ddf98fca76d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b93b31ea71048d2651b5ddf98fca76d">&#9670;&nbsp;</a></span>CHRONY_CMD_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHRONY_CMD_PORT&#160;&#160;&#160;323</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hardwired command (UDP) port of chrony </p>

</div>
</div>
<a id="ab19fedfbb698ccae69d60c9d94108110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab19fedfbb698ccae69d60c9d94108110">&#9670;&nbsp;</a></span>CHRONY_MAX_RETRIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHRONY_MAX_RETRIES&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of connection retries before giving up </p>

</div>
</div>
<a id="a91706f9068bee77f2937c2ef0aad78bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91706f9068bee77f2937c2ef0aad78bf">&#9670;&nbsp;</a></span>CHRONY_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHRONY_TIMEOUT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connection timeout in seconds </p>

</div>
</div>
<a id="a57d0bc0d55c8990538a84d08d24354ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d0bc0d55c8990538a84d08d24354ad">&#9670;&nbsp;</a></span>MAX_PADDING_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PADDING_LENGTH&#160;&#160;&#160;396</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Hardwired chrony communication parameter </p>

</div>
</div>
<a id="a93506c68f47c0c7ef6cc8380297a099a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93506c68f47c0c7ef6cc8380297a099a">&#9670;&nbsp;</a></span>PROTO_VERSION_NUMBER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROTO_VERSION_NUMBER&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Currently supported CMD protocol </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac0e993a7314677cc2671788fc12cfdb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0e993a7314677cc2671788fc12cfdb3">&#9670;&nbsp;</a></span>chrony_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int chrony_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structchrony__req.html">chrony_req</a> *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>req_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structchrony__rep.html">chrony_rep</a> *&#160;</td>
          <td class="paramname"><em>rep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rep_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rep_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Makes a standalone request and waits for the reply from chrony. </p>
<p>Note, that both communication buffers (req/rep) have to be preallocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>Pointer to the allocated and initialized request buffer </td></tr>
    <tr><td class="paramname">req_len</td><td>The size of the allocated request buffer </td></tr>
    <tr><td class="paramname">rep</td><td>Pointer to the pre-allocated reply buffer </td></tr>
    <tr><td class="paramname">rep_len</td><td>The size of the pre-allocated reply buffer </td></tr>
    <tr><td class="paramname">rep_id</td><td>Filtering response messages to match this ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero, if succeeded and a valid response has been received. </dd></dl>

</div>
</div>
<a id="a01e5cd69e31ff7f5620ba7be7cab7cdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01e5cd69e31ff7f5620ba7be7cab7cdd">&#9670;&nbsp;</a></span>double_from_chrony_float_t()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double double_from_chrony_float_t </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structchrony__float__t.html">chrony_float_t</a> *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert from chrony 32-bit floating point type to double. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>Pointer to the 32-bit source value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The standard C double representation of the floating point value </dd></dl>

</div>
</div>
<a id="af2ab4a32e5e0511615d593b8bb2cce0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2ab4a32e5e0511615d593b8bb2cce0e">&#9670;&nbsp;</a></span>nsec_of_timeval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long nsec_of_timeval </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtimeval__t.html">timeval_t</a> *&#160;</td>
          <td class="paramname"><em>timeval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the fractional (nanosec) part of the <code><a class="el" href="structtimeval__t.html" title="Definition of timeval_t using 32-bit integers. ">timeval_t</a></code> value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeval</td><td>Pointer to the <code><a class="el" href="structtimeval__t.html" title="Definition of timeval_t using 32-bit integers. ">timeval_t</a></code> value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The fractional part in integer nanoseconds </dd></dl>

</div>
</div>
<a id="ab1ea9815b8f11653b929fe15c9f64c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ea9815b8f11653b929fe15c9f64c8c">&#9670;&nbsp;</a></span>sec_of_timeval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t sec_of_timeval </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structtimeval__t.html">timeval_t</a> *&#160;</td>
          <td class="paramname"><em>timeval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the integer (seconds) part of the <code><a class="el" href="structtimeval__t.html" title="Definition of timeval_t using 32-bit integers. ">timeval_t</a></code> value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeval</td><td>Pointer to the <code><a class="el" href="structtimeval__t.html" title="Definition of timeval_t using 32-bit integers. ">timeval_t</a></code> value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The integer part in seconds </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
